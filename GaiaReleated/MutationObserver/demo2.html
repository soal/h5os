<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HTML Model</title>
    <script>
    window.onload = function() {      
      var foo = document.getElementById('foo');
      var observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          console.log('mutation.type = ' + mutation.type);
          for (var i = 0; i < mutation.addedNodes.length; i++) {
            console.log('  "' + mutation.addedNodes[i].textContent + '" added');
          }          
          for (var i = 0; i < mutation.removedNodes.length; i++) {
            console.log('  "' +mutation.removedNodes[i].textContent + '" removed');
          }
        });
      });
      observer.observe(foo, {
        childList: true
      });
      var bar = document.createElement('div');
      bar.textContent = 'bar';
      console.log('before append');
      foo.appendChild(bar);
      foo.removeChild(bar);
      console.log('after remove');
    }
    </script>
  </head>
  <body>
    <div id='foo'></div>
    <br>
    <br>
  </body>
</html>
