<html>
<head>
  <title>style encapsulation</title>
  <style type="text/css">
    h3 {
      color: green;
    }
  </style>
</head>
<body>
  <div>
    <h3>Light DOM</h3>
  </div>
  <script>
  var root = document.querySelector('div').createShadowRoot();
  root.innerHTML = '<style>h3{ color: red; border: 1px green dotted; display: inline;}</style>' + 
                   '<h3>Shadow DOM</h3>';
  </script>s

  <button class="normal">My Normal Button</button>
  <button class="opaque">My Opaque Button</button>
  <script type="text/javascript">
  var roots = document.querySelectorAll('button');
  for (var i = 0; i < roots.length; i++) {
    roots[i].createShadowRoot().innerHTML = `
      <style>
      :host(.normal) {
        color: red;
      }
      :host(.opaque) {
        opacity: 0.4;
        transition: opacity 420ms ease-in-out;
      }
      :host(:hover) {
        opacity: 1;
      }
      :host(:active) {
        position: relative;
        top: 3px;
        left: 3px;
      }
      </style>
      <content></content>`;
  }
  </script>

</body>
</html>